/*
 * Task_Scheduler.h
 *
 *  Created on: Apr 3, 2023
 *      Author: uif47623
 */

#ifndef TASK_SCHEDULER_H_
#define TASK_SCHEDULER_H_

/*********************************************************************************************************************/
/*-----------------------------------------------------Includes------------------------------------------------------*/
/*********************************************************************************************************************/

#include "Global_Types.h"
#include "Platform_Types.h"

/*********************************************************************************************************************/
/*------------------------------------------------------Defines------------------------------------------------------*/
/*********************************************************************************************************************/

#define MAX_TASKS 10
#define NUM_TASKS 3

#define TASK1_ID 1
#define TASK2_ID 2
#define TASK3_ID 3

/*********************************************************************************************************************/
/*------------------------------------------------------Structs------------------------------------------------------*/
/*********************************************************************************************************************/

typedef struct {
        uint8   id;
        uint16  period;
        uint16  remainingTime;
        void    (*function)(void);
} S_TS_Task;

/*********************************************************************************************************************/
/*------------------------------------------------------Globals------------------------------------------------------*/
/*********************************************************************************************************************/
S_TS_Task tasks[NUM_TASKS] = {
  {TASK1_ID, 500, 500, task1},
  {TASK2_ID, 1000, 1000, task2},
  {TASK3_ID, 2000, 2000, task3},
};
/*********************************************************************************************************************/
/*---------------------------------------------Function Prototypes     ----------------------------------------------*/
/*********************************************************************************************************************/
void task1(void) {
  // Task 1 code
}

void task2(void) {
  // Task 2 code
}

void task3(void) {
  // Task 3 code
}
extern void TS_Create_Task(uint8 id, uint16 priority, uint32 interval, void (*function)(void));

extern void TS_Handle_Timer(uint16 signum);

extern void TS_Init();

#endif /* TASK_SCHEDULER_H_ */
