/*
 * Crash_Detection.c
 *
 *  Created on: Jun 9, 2023
 *      Author: uif47623
 */
/*********************************************************************************************************************/
/*-----------------------------------------------------Includes------------------------------------------------------*/
/*********************************************************************************************************************/
#include "Crash_Detection.h"
/*********************************************************************************************************************/
/*-------------------------------------------------Global variables--------------------------------------------------*/
/*********************************************************************************************************************/
CrashDetection_T CrashDetectionData;
/*********************************************************************************************************************/
/*---------------------------------------------Function Implementations----------------------------------------------*/
/*********************************************************************************************************************/
void initCrashDetection() {
    CrashDetectionData.xVal = DEFAULT_AXIS_VALUE;
    CrashDetectionData.yVal = DEFAULT_AXIS_VALUE;
    CrashDetectionData.zVal = DEFAULT_AXIS_VALUE;

    CrashDetectionData.carState     = CAR_STATE_NORMAL;
    CrashDetectionData.crashState   = NO_CRASH;
}

void MainFunction_CrashDetection() {
    CrashDetectionData.xVal = get_xVal();
    CrashDetectionData.yVal = get_yVal();
    CrashDetectionData.zVal = get_zVal();

    CrashDetectionData.carState     = computeCarState();
    CrashDetectionData.crashState   = computeCrashState();
}

float get_xVal() {
    return ADC_Results.xAxisValue;
}

float get_yVal() {
    return ADC_Results.yAxisValue;
}

float get_zVal() {
    return ADC_Results.zAxisValue;
}
//END OF FILE

